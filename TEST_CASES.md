# 隱湖小竹後台管理系統測試案例

## 測試環境準備

### 前置條件

- 確保 Firebase 專案已正確配置
- 確保已創建至少一個超級管理員帳號
- 確保網路連接正常
- 準備測試用的商品圖片 URL

### 測試帳號準備

```
超級管理員帳號：
- Email: [你的管理員email]
- 密碼: [你的密碼]
- 權限: all

測試用商品分類：
- 冷凍商品
- 常溫商品
- 醬料
- 茶葉
```

---

## 第一階段：管理員認證測試

### 測試案例 1.1：正常登入流程

**目標：** 驗證管理員可以正常登入系統

**測試步驟：**

1. 開啟 `admin-login.html`
2. 輸入正確的管理員 email 和密碼
3. 點擊「登入」按鈕
4. 確認成功跳轉到 `admin-dashboard.html`

**預期結果：**

- ✅ 登入成功，無錯誤訊息
- ✅ 自動跳轉到管理後台首頁
- ✅ 頁面顯示管理員資訊

**實際結果：**

- [ ] 登入成功
- [ ] 跳轉正常
- [ ] 頁面顯示正確

---

### 測試案例 1.2：錯誤登入處理

**目標：** 驗證系統對錯誤登入的處理

**測試步驟：**

1. 開啟 `admin-login.html`
2. 輸入錯誤的 email 或密碼
3. 點擊「登入」按鈕

**預期結果：**

- ✅ 顯示錯誤訊息
- ✅ 停留在登入頁面
- ✅ 表單資料清空或保留

**實際結果：**

- [ ] 錯誤訊息顯示
- [ ] 頁面未跳轉
- [ ] 表單處理正確

---

### 測試案例 1.3：權限驗證

**目標：** 驗證非管理員無法登入

**測試步驟：**

1. 使用一般用戶帳號嘗試登入管理後台
2. 確認系統的權限檢查機制

**預期結果：**

- ✅ 顯示權限不足的錯誤訊息
- ✅ 無法進入管理後台

**實際結果：**

- [ ] 權限檢查正常
- [ ] 錯誤訊息正確

---

### 測試案例 1.4：登出功能

**目標：** 驗證登出功能正常運作

**測試步驟：**

1. 在管理後台登入狀態下
2. 點擊登出按鈕
3. 確認登出後的行為

**預期結果：**

- ✅ 成功登出
- ✅ 跳轉回登入頁面
- ✅ 無法再訪問管理後台

**實際結果：**

- [ ] 登出成功
- [ ] 跳轉正確
- [ ] 權限清除

---

## 第二階段：商品管理基礎功能測試

### 測試案例 2.1：商品列表載入

**目標：** 驗證商品列表頁面正常載入

**測試步驟：**

1. 登入管理後台
2. 點擊「商品管理」進入商品頁面
3. 檢查頁面元素是否正確顯示

**預期結果：**

- ✅ 頁面正常載入，無錯誤
- ✅ 統計卡片顯示正確數據
- ✅ 工具欄按鈕正常顯示
- ✅ 商品表格區域顯示載入狀態

**實際結果：**

- [ ] 頁面載入正常
- [ ] 統計數據正確
- [ ] 界面元素完整

---

### 測試案例 2.2：新增商品 - 基本資訊

**目標：** 驗證新增商品的基本功能

**測試步驟：**

1. 在商品管理頁面點擊「新增商品」
2. 填寫基本商品資訊：
   - 商品名稱：測試商品 A
   - 商品描述：這是一個測試商品
   - 商品分類：選擇「常溫商品」
   - 狀態：上架
   - 售價：150
   - 原價：200
   - 庫存數量：50
   - 庫存警告閾值：10
   - 商品圖片 URL：https://via.placeholder.com/300x300
3. 點擊「儲存」

**預期結果：**

- ✅ 表單驗證正常（必填欄位檢查）
- ✅ 商品成功創建
- ✅ 顯示成功訊息
- ✅ 商品出現在列表中
- ✅ 統計數據更新

**實際結果：**

- [ ] 表單驗證正常
- [ ] 商品創建成功
- [ ] 成功訊息顯示
- [ ] 列表更新正確
- [ ] 統計更新正確

---

### 測試案例 2.3：新增商品 - 邊界值測試

**目標：** 驗證系統對極端值的處理

**測試步驟：**

1. 新增商品時測試以下情況：
   - 商品名稱為空
   - 售價為 0 或負數
   - 庫存為負數
   - 庫存警告閾值為 0
   - 原價小於售價

**預期結果：**

- ✅ 表單驗證阻止無效提交
- ✅ 顯示適當的錯誤訊息
- ✅ 數據類型轉換正確

**實際結果：**

- [ ] 空名稱被阻止
- [ ] 無效價格被阻止
- [ ] 無效庫存被阻止
- [ ] 錯誤訊息正確
- [ ] 數據轉換正確

---

### 測試案例 2.4：編輯商品

**目標：** 驗證商品編輯功能

**測試步驟：**

1. 在商品列表中點擊「編輯」按鈕
2. 修改商品資訊：
   - 更改商品名稱
   - 調整價格
   - 修改庫存數量
3. 點擊「儲存」

**預期結果：**

- ✅ 商品資訊正確載入到表單
- ✅ 修改成功保存
- ✅ 列表即時更新
- ✅ 顯示成功訊息

**實際結果：**

- [ ] 資訊載入正確
- [ ] 修改保存成功
- [ ] 列表更新正確
- [ ] 成功訊息顯示

---

### 測試案例 2.5：刪除商品

**目標：** 驗證商品刪除功能

**測試步驟：**

1. 在商品列表中點擊「刪除」按鈕
2. 確認刪除對話框
3. 點擊確認刪除

**預期結果：**

- ✅ 顯示確認對話框
- ✅ 商品成功刪除
- ✅ 從列表中移除
- ✅ 統計數據更新

**實際結果：**

- [ ] 確認對話框顯示
- [ ] 刪除成功
- [ ] 列表更新正確
- [ ] 統計更新正確

---

## 第三階段：商品管理進階功能測試

### 測試案例 3.1：商品搜尋功能

**目標：** 驗證商品搜尋功能

**測試步驟：**

1. 在搜尋框輸入商品名稱關鍵字
2. 檢查搜尋結果
3. 測試不同長度的搜尋詞
4. 測試特殊字符

**預期結果：**

- ✅ 搜尋結果正確顯示
- ✅ 搜尋有防抖處理（不會過於頻繁請求）
- ✅ 空搜尋顯示所有商品
- ✅ 特殊字符處理正確

**實際結果：**

- [ ] 搜尋結果正確
- [ ] 防抖功能正常
- [ ] 空搜尋處理正確
- [ ] 特殊字符處理正確

---

### 測試案例 3.2：商品篩選功能

**目標：** 驗證分類和狀態篩選

**測試步驟：**

1. 測試分類篩選器
2. 測試狀態篩選器
3. 測試篩選器組合使用

**預期結果：**

- ✅ 分類篩選正確顯示對應商品
- ✅ 狀態篩選正確顯示對應商品
- ✅ 組合篩選邏輯正確
- ✅ 篩選器狀態保持

**實際結果：**

- [ ] 分類篩選正確
- [ ] 狀態篩選正確
- [ ] 組合篩選正確
- [ ] 狀態保持正確

---

### 測試案例 3.3：批量操作功能

**目標：** 驗證批量操作功能

**測試步驟：**

1. 選擇多個商品
2. 測試批量上架功能
3. 測試批量下架功能
4. 測試批量刪除功能

**預期結果：**

- ✅ 商品選擇功能正常
- ✅ 批量操作成功執行
- ✅ 顯示確認對話框
- ✅ 操作後列表更新

**實際結果：**

- [ ] 選擇功能正常
- [ ] 批量上架成功
- [ ] 批量下架成功
- [ ] 批量刪除成功
- [ ] 確認對話框顯示
- [ ] 列表更新正確

---

### 測試案例 3.4：庫存警告機制

**目標：** 驗證庫存警告功能

**測試步驟：**

1. 創建一個庫存為 5 的商品（警告閾值為 10）
2. 檢查是否觸發庫存警告
3. 調整庫存到 15，檢查警告是否消失
4. 檢查統計卡片中的警告數量

**預期結果：**

- ✅ 低庫存商品顯示警告標籤
- ✅ 統計卡片顯示正確的警告數量
- ✅ 庫存調整後警告狀態正確更新

**實際結果：**

- [ ] 警告標籤顯示正確
- [ ] 統計數量正確
- [ ] 警告狀態更新正確

---

### 測試案例 3.5：商品分類管理

**目標：** 驗證商品分類功能

**測試步驟：**

1. 檢查預設分類是否正確載入
2. 測試分類篩選功能
3. 確認商品分類顯示正確

**預期結果：**

- ✅ 分類列表正確載入
- ✅ 分類篩選功能正常
- ✅ 商品分類顯示正確

**實際結果：**

- [ ] 分類載入正確
- [ ] 篩選功能正常
- [ ] 分類顯示正確

---

### 測試案例 3.6：數據匯出功能

**目標：** 驗證 CSV 匯出功能

**測試步驟：**

1. 確保商品列表有數據
2. 點擊「匯出」按鈕
3. 檢查下載的 CSV 檔案

**預期結果：**

- ✅ 成功下載 CSV 檔案
- ✅ 檔案內容包含所有商品資訊
- ✅ 中文內容正確顯示
- ✅ 檔案名稱包含日期

**實際結果：**

- [ ] 檔案下載成功
- [ ] 內容完整正確
- [ ] 中文顯示正確
- [ ] 檔案名稱正確

---

## 第四階段：訂單管理功能測試

### 測試案例 4.1：訂單列表載入

**目標：** 驗證訂單管理頁面正常載入

**測試步驟：**

1. 在管理後台點擊「訂單管理」
2. 檢查頁面元素和統計數據

**預期結果：**

- ✅ 頁面正常載入
- ✅ 訂單統計顯示正確
- ✅ 篩選工具正常顯示

**實際結果：**

- [ ] 頁面載入正常
- [ ] 統計數據正確
- [ ] 篩選工具正常

---

### 測試案例 4.2：訂單篩選和搜尋

**目標：** 驗證訂單篩選功能

**測試步驟：**

1. 測試狀態篩選（待處理、處理中、已完成等）
2. 測試付款狀態篩選
3. 測試日期範圍篩選
4. 測試搜尋功能

**預期結果：**

- ✅ 各種篩選條件正確工作
- ✅ 搜尋結果準確
- ✅ 篩選器狀態保持

**實際結果：**

- [ ] 狀態篩選正確
- [ ] 付款狀態篩選正確
- [ ] 日期篩選正確
- [ ] 搜尋功能正確
- [ ] 篩選器狀態保持

---

### 測試案例 4.3：訂單詳情查看

**目標：** 驗證訂單詳情功能

**測試步驟：**

1. 點擊訂單列表中的「查看」按鈕
2. 檢查訂單詳情模態窗口
3. 驗證訂單資訊顯示正確

**預期結果：**

- ✅ 詳情窗口正常顯示
- ✅ 訂單資訊完整正確
- ✅ 商品清單正確顯示

**實際結果：**

- [ ] 詳情窗口顯示正常
- [ ] 訂單資訊正確
- [ ] 商品清單正確

---

### 測試案例 4.4：訂單狀態更新

**目標：** 驗證訂單狀態更新功能

**測試步驟：**

1. 在訂單詳情中更改訂單狀態
2. 測試各種狀態轉換
3. 檢查狀態更新是否成功

**預期結果：**

- ✅ 狀態更新成功
- ✅ 列表即時更新
- ✅ 狀態轉換邏輯正確

**實際結果：**

- [ ] 狀態更新成功
- [ ] 列表更新正確
- [ ] 轉換邏輯正確

---

## 第五階段：整合測試

### 測試案例 5.1：商品庫存與訂單關聯

**目標：** 驗證商品庫存與訂單的關聯性

**測試步驟：**

1. 創建一個庫存為 10 的商品
2. 模擬下訂單（如果前端訂單功能可用）
3. 檢查庫存是否正確扣減

**預期結果：**

- ✅ 訂單創建後庫存正確扣減
- ✅ 庫存不足時有適當處理

**實際結果：**

- [ ] 庫存扣減正確
- [ ] 庫存不足處理正確

---

### 測試案例 5.2：權限系統整合

**目標：** 驗證不同角色的權限限制

**測試步驟：**

1. 使用不同權限的管理員帳號登入
2. 測試各功能的存取權限
3. 確認權限限制正確實施

**預期結果：**

- ✅ 權限限制正確實施
- ✅ 無權限功能被正確隱藏或禁用

**實際結果：**

- [ ] 權限限制正確
- [ ] 功能隱藏正確

---

### 測試案例 5.3：數據統計準確性

**目標：** 驗證統計數據的準確性

**測試步驟：**

1. 手動計算商品總數、上架數量等
2. 與系統顯示的統計數據比對
3. 測試數據更新的一致性

**預期結果：**

- ✅ 統計數據準確
- ✅ 數據更新及時
- ✅ 計算邏輯正確

**實際結果：**

- [ ] 統計數據準確
- [ ] 更新及時
- [ ] 計算邏輯正確

---

## 第六階段：用戶體驗測試

### 測試案例 6.1：響應式設計

**目標：** 驗證在不同設備上的顯示效果

**測試步驟：**

1. 在桌面瀏覽器測試
2. 在平板設備測試
3. 在手機設備測試
4. 測試不同螢幕尺寸

**預期結果：**

- ✅ 所有設備上界面正常顯示
- ✅ 功能在各種尺寸下可用
- ✅ 觸控操作友好

**實際結果：**

- [ ] 桌面顯示正常
- [ ] 平板顯示正常
- [ ] 手機顯示正常
- [ ] 觸控操作友好

---

### 測試案例 6.2：載入性能

**目標：** 驗證頁面載入性能

**測試步驟：**

1. 測試頁面初始載入時間
2. 測試大量數據時的載入時間
3. 測試網路較慢時的表現

**預期結果：**

- ✅ 頁面載入時間合理
- ✅ 大量數據時有適當的載入提示
- ✅ 網路較慢時有適當處理

**實際結果：**

- [ ] 載入時間合理
- [ ] 載入提示正確
- [ ] 慢網路處理正確

---

### 測試案例 6.3：錯誤處理

**目標：** 驗證錯誤處理機制

**測試步驟：**

1. 模擬網路中斷情況
2. 測試無效數據輸入
3. 測試 Firebase 連接問題

**預期結果：**

- ✅ 錯誤訊息清晰明確
- ✅ 系統不會崩潰
- ✅ 提供適當的恢復選項

**實際結果：**

- [ ] 錯誤訊息清晰
- [ ] 系統穩定
- [ ] 恢復選項適當

---

## 測試結果總結

### 測試完成度

- [ ] 第一階段：管理員認證測試 (0/4)
- [ ] 第二階段：商品管理基礎功能測試 (0/6)
- [ ] 第三階段：商品管理進階功能測試 (0/6)
- [ ] 第四階段：訂單管理功能測試 (0/4)
- [ ] 第五階段：整合測試 (0/3)
- [ ] 第六階段：用戶體驗測試 (0/3)

### 發現的問題

1.
2.
3.

### 需要修復的功能

1.
2.
3.

### 測試建議

1.
2.
3.

---

## 測試注意事項

1. **測試環境**：確保在測試環境中進行，避免影響生產數據
2. **數據備份**：重要測試前先備份數據
3. **記錄詳細**：記錄每個測試案例的詳細結果
4. **重現問題**：發現問題時要能重現並記錄步驟
5. **優先級**：優先測試核心功能，再測試次要功能

## 測試工具建議

1. **瀏覽器開發者工具**：檢查 Console 錯誤和 Network 請求
2. **Firebase Console**：監控 Firestore 數據變化
3. **不同瀏覽器**：測試跨瀏覽器兼容性
4. **手機模擬器**：測試響應式設計
